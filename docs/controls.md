# 游戏操作说明

## 游戏模式

- **1 Player**: 单人模式
- **2 Player**: 双人合作模式

## 玩家控制

### 玩家1 (Li Yun Long)

| 按键 | 功能 |
|------|------|
| **WASD** | 移动坦克 |
| **J** | 发射炮弹 |
| **I** | 回城技能（4秒） |
| **K** | 冲刺技能（0.2秒） |
| **L** | 激光技能 |

### 玩家2 (Chu Yun Fei)

| 按键 | 功能 |
|------|------|
| **方向键** | 移动坦克 |
| **Numpad1** | 发射炮弹 |
| **Numpad4** | 回城技能（4秒） |
| **Numpad2** | 冲刺技能（0.2秒） |
| **Numpad3** | 激光技能 |

### 通用操作

| 按键 | 功能 |
|------|------|
| **W/S** | 菜单选择（上/下） |
| **SPACE** | 确认选择 / 暂停游戏 |
| **ESC** | 退出游戏 |

## 游戏元素

### 地形类型

| 地形 | 描述 |
|------|------|
| **砖块** (Brick) | 可被炮弹破坏 |
| **钢铁** (Steel) | 无法破坏（除非 protection >= 100%） |
| **海** (Sea) | 坦克无法通过 |
| **树林** (Forest) | 坦克可隐藏，提供掩护 |
| **屏障** (Barrier) | 靠近会伤害坦克（减少 speed 和 protection） |

### 游戏角色

| 角色 | 描述 |
|------|------|
| **玩家坦克** | 可移动、射击、使用技能 |
| **敌方坦克** | 随机移动和射击 |
| **指挥官** | 需要保护，有生命值 |

### 道具系统

| 道具 | 效果 |
|------|------|
| **Speed Up** | 提升移动速度 |
| **Protection** | 提升护甲 |
| **Fire Speed** | 提升射击速度 |
| **Fire Shell** | 火焰炮弹 |
| **Track Chain** | 履带链（免疫屏障伤害） |
| **Penetrate** | 穿透能力 |
| **Repair** | 修复坦克 |
| **Hamburger** | 恢复生命 |
| **Air Cushion** | 气垫（特殊效果） |

## 游戏机制

### 关卡系统
- 多个关卡，难度递增
- 每关有固定的敌人和地形布局

### 属性系统
- **速度**: 影响坦克移动速度
- **射击速度**: 影响炮弹发射频率
- **保护**: 影响受到的伤害和特殊能力

### 技能系统

#### 回城技能 (I / Numpad4)
- 持续 4 秒
- 将坦克传送回初始位置

#### 冲刺技能 (K / Numpad2)
- 持续 0.2 秒
- 可撞碎砖块、铁块、敌方坦克
- 撞击时扣除玩家血量（根据 protection 调整）

#### 激光技能 (L / Numpad3)
- 发射激光束
- 可穿透多个目标

### 冲刺技能机制

| 撞击目标 | 条件 | 效果 |
|----------|------|------|
| **砖块** | 总是可撞碎 | 扣除玩家 1/3 血条（根据 protection 调整） |
| **铁块** | protection >= 100% | 可撞碎，否则玩家死亡 |
| **敌方坦克** | 总是可撞碎 | 扣除玩家 1/3 血条（根据 protection 调整） |

**扣血规则**（基于 protection）:
- protection < 40%: 扣 2/3 血量
- protection 40-80%: 扣 1/3 血量
- protection >= 80%: 不扣血

### 屏障伤害机制

- 靠近屏障（70像素内）会触发伤害
- speed 和 protection 各减少 20
- 2 秒冷却时间
- 拥有 track_chain 特效时免疫伤害

### 特效抵挡机制

拥有以下特效时可抵挡一次敌方子弹：
- **fire_shell** (火焰炮弹)
- **track_chain** (履带链)
- **penetrate** (穿透)

中弹后移除对应特效，不扣血

### 碰撞检测
- 基于 Rapier 物理引擎的精确碰撞
- 敌方坦克AI：随机移动方向，碰撞时自动转向

### 动画系统
- 丰富的精灵图动画效果
- 包含坦克移动、炮弹飞行、爆炸等动画

## 游戏常量

| 参数 | 数值 |
|------|------|
| **竞技场尺寸** | 2060 x 1300 像素 |
| **坦克尺寸** | 87 x 87 像素 |
| **玩家坦克速度** | 150 像素/秒 |
| **敌方坦克速度** | 200 像素/秒 |
| **炮弹速度** | 600-900 像素/秒 |
| **物理比例** | 100 像素 = 1 米 |